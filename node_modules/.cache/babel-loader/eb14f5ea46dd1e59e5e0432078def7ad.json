{"ast":null,"code":"var _jsxFileName = \"/Users/adamcarlson/Desktop/beacons-coding-assessment/src/editable_link.js\";\n\n/**\n * Editable link\n *\n * @copyright 2021 Adam Carlson - All rights reserved\n */\nimport PropTypes from 'prop-types';\nimport './styles/editable_link.scss';\nimport React, { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction EditableLink(props) {\n  const handleDeleteLink = linkId => {\n    props.setUserLinks(prevUserLinks => {\n      let updatedUserLinks = [...prevUserLinks];\n      const index = updatedUserLinks.findIndex(userLink => userLink.id === linkId);\n\n      if (index == -1) {\n        return updatedUserLinks;\n      }\n\n      updatedUserLinks.splice(index, 1);\n      return updatedUserLinks;\n    });\n    const requestOptions = {\n      method: 'DELETE'\n    };\n    const url = `https://retoolapi.dev/lqtPSO/links/${linkId}`;\n    fetch(url, requestOptions);\n  };\n\n  const handleEditLink = linkId => {\n    const index = props.userLinks.findIndex(userLink => userLink.id === linkId);\n\n    if (index == -1) {\n      return;\n    }\n\n    props.setEditLink({ ...props.userLinks[index]\n    });\n    props.setShowEditLinkModal(true);\n  };\n\n  console.log(\"Rendering editable link\");\n  return /*#__PURE__*/_jsxDEV(\"li\", {\n    className: \"editable-link-item\",\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"editable-link-title\",\n      children: [\"Link Title: \", props.linkTitle]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"editable-link-url\",\n      children: [\"Link Url: \", props.linkUrl]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"editable-link-clicks\",\n      children: [\"Clicks: \", props.linkClicks]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"edit-link-btn\",\n      onClick: () => {\n        handleEditLink(props.linkId);\n      },\n      children: \"\\u270E\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"delete-link-btn\",\n      onClick: () => {\n        handleDeleteLink(props.linkId);\n      },\n      children: \"\\u274C\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n}\n\n_c = EditableLink;\nEditableLink.propTypes = {\n  linkId: PropTypes.number.isRequired,\n  linkTitle: PropTypes.string.isRequired,\n  linkUrl: PropTypes.string.isRequired,\n  linkClicks: PropTypes.number.isRequired,\n  userLinks: PropTypes.array.isRequired,\n  setUserLinks: PropTypes.func.isRequired,\n  setShowEditLinkModal: PropTypes.func.isRequired,\n  setEditLink: PropTypes.func.isRequired\n};\nexport default _c2 = /*#__PURE__*/React.memo(EditableLink);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"EditableLink\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["/Users/adamcarlson/Desktop/beacons-coding-assessment/src/editable_link.js"],"names":["PropTypes","React","useState","EditableLink","props","handleDeleteLink","linkId","setUserLinks","prevUserLinks","updatedUserLinks","index","findIndex","userLink","id","splice","requestOptions","method","url","fetch","handleEditLink","userLinks","setEditLink","setShowEditLinkModal","console","log","linkTitle","linkUrl","linkClicks","propTypes","number","isRequired","string","array","func","memo"],"mappings":"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","sourcesContent":["\n/**\n * Editable link\n *\n * @copyright 2021 Adam Carlson - All rights reserved\n */\n\n import PropTypes from 'prop-types';\nimport './styles/editable_link.scss';\nimport React, {useState} from 'react';\n\nfunction EditableLink(props) {\n\n  const handleDeleteLink = (linkId) => {\n    props.setUserLinks((prevUserLinks) => {\n      let updatedUserLinks = [...prevUserLinks];\n      const index = updatedUserLinks.findIndex(userLink => userLink.id === linkId);\n      if (index == -1) {\n        return updatedUserLinks;\n      }\n      updatedUserLinks.splice(index, 1);\n      return updatedUserLinks;\n    }); \n\n    const requestOptions = {\n      method: 'DELETE'\n    };\n    const url = `https://retoolapi.dev/lqtPSO/links/${linkId}`;\n    fetch(url, requestOptions);\n  };\n\n  const handleEditLink = (linkId) => {\n    const index = props.userLinks.findIndex(userLink => userLink.id === linkId);\n    if (index == -1) {\n      return;\n    }\n\n    props.setEditLink({...props.userLinks[index]});\n    props.setShowEditLinkModal(true);\n  };\n\n  console.log(\"Rendering editable link\");\n\n   return (\n    <li className=\"editable-link-item\">\n      <span className=\"editable-link-title\">Link Title: {props.linkTitle}</span>\n      <span className=\"editable-link-url\">Link Url: {props.linkUrl}</span>\n      <span className=\"editable-link-clicks\">Clicks: {props.linkClicks}</span>\n      <span className=\"edit-link-btn\" onClick={() => {handleEditLink(props.linkId)}}>&#9998;</span>\n      <span className=\"delete-link-btn\" onClick={() => {handleDeleteLink(props.linkId)}}>&#x274C;</span>\n    </li>\n   );\n }\n \nEditableLink.propTypes = {\n  linkId: PropTypes.number.isRequired,\n  linkTitle: PropTypes.string.isRequired,\n  linkUrl: PropTypes.string.isRequired,\n  linkClicks: PropTypes.number.isRequired,\n  userLinks: PropTypes.array.isRequired,\n  setUserLinks: PropTypes.func.isRequired,\n  setShowEditLinkModal: PropTypes.func.isRequired,\n  setEditLink: PropTypes.func.isRequired\n};\n \n export default React.memo(EditableLink);"]},"metadata":{},"sourceType":"module"}